---
import PostDetails from "@/layouts/PostDetails.astro";
import { getCollection } from 'astro:content';
import getSortedPosts from "@/utils/getSortedPosts";

// Get the MDX content
const blogPosts = await getCollection('blog');
const post = blogPosts.find(p => p.id === 'verbalized-sampling');

if (!post) {
  return Astro.redirect('/404');
}

const sortedPosts = getSortedPosts(blogPosts);
---

<PostDetails post={post} posts={sortedPosts} />
